<!DOCTYPE html>
<html>
<head>
	<title>Pirate Bay</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div class="playlist">
    <h2>Playlist 1</h2>
    <progress id="progress1" value="1" max="100"></progress>
    <audio id="audio1" controls>
        <!-- Audio sources here -->
    </audio>
    <!-- Shuffle, previous, next buttons, and status here -->
</div>

<div class="playlist">
    <h2>Playlist 2</h2>
    <progress id="progress2" value="0" max="100"></progress>
    <audio id="audio2" controls>
        <!-- Audio sources here -->
    </audio>
    <!-- Shuffle, previous, next buttons, and status here -->
</div>

	<div class="container">
		<div class="header">
			<div class="logo">
				<img src="Pirate bay-logos.jpeg">
			</div>
		</div>
		<br>
		<h1>Welcome to Pirate Bay</h1>
		<br>
		<p>Inspired by the Netflix original series "The Playlist".</p>
		<br>
		<p>When you're dedicated to listening to a dedicated playlist or a list of playlists without interruptions, Pirate Bay is the perfect destination. The website has been operational since the first week of March 2023.</p>
		<br>
		
		<div class="search">
			<input type="text" id="search" placeholder="Search...">
			<button id="search-button" onclick="modifiedSearch()">Search</button>
		</div>

		<div class="playlist">
			<h2>Playlist 1</h2>
			<audio id="audio1" controls>
				<source src="Arcade" type="audio/mpeg">
				<source src="Believer" type="audio/mpeg">
				<source src="Bones" type="audio/mpeg">
				<source src="Cradles" type="audio/mpeg">
				<source src="Ghost" type="audio/mpeg">
				<source src="Heatwaves" type="audio/mpeg">
				<source src="Natural" type="audio/mpeg">
				<source src="Thunder" type="audio/mpeg">
			</audio>
			<br>
			<div class="shuffle-play">
				<button id="shuffle-button1" onclick="shuffle1()">Shuffle Play</button>
				<button id="previous" onclick="previousSong1()">Previous</button>
				<button id="next" onclick="nextSong1()">Next</button>
				<div id="status1"></div>
			</div>
		</div>
		
		<div class="playlist">
			<h2>Playlist 2</h2>
			<audio id="audio2" controls>
				<source src="Arcade" type="audio/mpeg">
				<source src="Believer" type="audio/mpeg">
				<source src="Bones" type="audio/mpeg">
				<source src="Cradles" type="audio/mpeg">
				<source src="Ghost" type="audio/mpeg">
				<source src="Heatwaves" type="audio/mpeg">
				<source src="Natural" type="audio/mpeg">
				<source src="Thunder" type="audio/mpeg">
			</audio>
			<br>
			<div class="shuffle-play">
				<button id="shuffle-button2" onclick="shuffle2()">Shuffle Play</button>
				<button id="previous" onclick="previousSong2()">Previous</button>
				<button id="next" onclick="nextSong2()">Next</button>
				<div id="status2"></div>
			</div>
		</div>
	</div>
	
	<script>
		function shuffle1() {
			var audio = document.getElementById("audio1");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			playlist.sort(() => Math.random() - 0.5);
			audio.src = playlist[0];
			audio.play();
		}
		
		function previousSong1() {
			var audio = document.getElementById("audio1");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var currentSong = playlist.indexOf(audio.src.split("/").pop());
			if (currentSong == 0) {
				currentSong = playlist.length - 1;
			} else {
				currentSong--;
			}
			audio.src = playlist[currentSong];
			audio.play();
		}
		
		function nextSong1() {
			var audio = document.getElementById("audio1");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var currentSong = playlist.indexOf(audio.src.split("/").pop());
			if (currentSong == playlist.length - 1) {
				currentSong = 0;
			} else {
				currentSong++;
			}
			audio.src = playlist[currentSong];
			audio.play();
		}
		
		function shuffle2() {
			var audio = document.getElementById("audio2");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			playlist.sort(() => Math.random() - 0.5);
			audio.src = playlist[0];
			audio.play();
		}
		
		function previousSong2() {
			var audio = document.getElementById("audio2");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var currentSong = playlist.indexOf(audio.src.split("/").pop());
			if (currentSong == 0) {
				currentSong = playlist.length - 1;
			} else {
				currentSong--;
			}
			audio.src = playlist[currentSong];
			audio.play();
		}
		
		function nextSong2() {
			var audio = document.getElementById("audio2");
			var playlist = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var currentSong = playlist.indexOf(audio.src.split("/").pop());
			if (currentSong == playlist.length - 1) {
				currentSong = 0;
			} else {
				currentSong++;
			}
			audio.src = playlist[currentSong];
			audio.play();
		}
		
		function modifiedSearch() {
			var searchTerm = document.getElementById("search").value;
			var playlist1 = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var playlist2 = ["Arcade", "Believer", "Bones", "Cradles", "Ghost", "Natural", "Thunder", "Heatwaves"];
			var audio1 = document.getElementById("audio1");
			var audio2 = document.getElementById("audio2");
			
			if (!searchTerm) {
				alert("Please enter a valid search term.");
				return;
			}
			
			if (playlist1.includes(searchTerm)) {
				audio2.src = searchTerm;
				audio2.play();
			} else if (playlist2.includes(searchTerm)) {
				audio1.src = searchTerm;
				audio1.play();
			} else {
				alert("No results found.");
			}
			
			console.log("Modified search function called.");
		}
		
		const audio1 = document.getElementById('audio1');
		const sources1 = audio1.getElementsByTagName('source');
		let index1 = 0;

		audio1.addEventListener('ended', function() {
			index1++;
			if (index1 >= sources1.length) {
				index1 = 0;
			}
			audio1.src = sources1[index1].src;
			audio1.play();
		});

		const audio2 = document.getElementById('audio2');
		const sources2 = audio2.getElementsByTagName('source');
		let index2 = 0;

		audio2.addEventListener('ended', function() {
			index2++;
			if (index2 >= sources2.length) {
				index2 = 0;
			}
			audio2.src = sources2[index2].src;
			audio2.play();
		});
	</script>
</body>
</html>
